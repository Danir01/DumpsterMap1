# Инструкция по запуску модифицированной версии проекта

## Шаги для запуска проекта с интегрированным ИИ

### Вариант 1: Через Android Studio (рекомендуется)

1. **Откройте проект в Android Studio**
   - Запустите Android Studio
   - Выберите `File` → `Open` → выберите папку проекта `DumpsterMap1`

2. **Синхронизируйте Gradle**
   - Android Studio автоматически предложит синхронизировать проект после открытия
   - Если нет, нажмите на уведомление "Sync Now" или выберите `File` → `Sync Project with Gradle Files`
   - Это загрузит новые зависимости ML Kit, которые мы добавили

3. **Дождитесь завершения синхронизации**
   - Внизу Android Studio будет показан прогресс загрузки зависимостей
   - Убедитесь, что все зависимости успешно загружены (проверьте вкладку "Build")

4. **Подключите устройство или запустите эмулятор**
   - **Реальное устройство:**
     - Включите режим разработчика на Android устройстве
     - Включите отладку по USB
     - Подключите устройство к компьютеру через USB
   - **Эмулятор:**
     - Создайте виртуальное устройство через `Tools` → `Device Manager`
     - Запустите эмулятор

5. **Запустите приложение**
   - Нажмите кнопку `Run` (зеленая стрелка) или `Shift + F10`
   - Или выберите `Run` → `Run 'app'`
   - Выберите устройство из списка

### Вариант 2: Через командную строку (Terminal)

1. **Откройте терминал в папке проекта**
   ```bash
   cd "C:\Users\qurst\OneDrive\Документы\старый ноут\Универ\Бакалавриат\8 семестр\ДИПЛОМ\DumpsterMap1"
   ```

2. **Синхронизируйте зависимости Gradle**
   ```bash
   gradlew.bat build --refresh-dependencies
   ```
   или для Linux/Mac:
   ```bash
   ./gradlew build --refresh-dependencies
   ```

3. **Соберите проект**
   ```bash
   gradlew.bat assembleDebug
   ```

4. **Установите на устройство**
   ```bash
   gradlew.bat installDebug
   ```
   (Убедитесь, что устройство подключено и включена отладка по USB)

### Важные замечания

⚠️ **Перед первым запуском убедитесь:**
- Установлен Android SDK (проверьте `local.properties`)
- Установлен JDK 8 или выше
- Все зависимости загружены (ML Kit может занять некоторое время)

⚠️ **Если возникают ошибки:**
- **Ошибка синхронизации Gradle:** 
  - Проверьте интернет-соединение
  - Попробуйте `File` → `Invalidate Caches / Restart`
  
- **Ошибка компиляции:**
  - Убедитесь, что все файлы сохранены
  - Проверьте, что `WasteClassifier.java` находится в папке `app/src/main/java/com/example/trashmap/AI/`

- **Ошибка при запуске:**
  - Проверьте, что устройство/эмулятор имеет Android версии 5.0 (API 21) или выше
  - Убедитесь, что разрешения камеры и хранилища предоставлены

### Проверка работы ИИ

После запуска приложения:

1. Войдите в приложение (или зарегистрируйтесь)
2. Перейдите на главный экран с картой
3. Нажмите кнопку добавления новой точки (+)
4. Выберите или сфотографируйте отходы
5. **ИИ автоматически проанализирует изображение**
6. Результат появится под выпадающим списком типов отходов
7. Нажмите "Применить" для автоматической установки типа

### Требования к устройству

- Android 5.0 (API 21) или выше
- Камера (для съемки фото)
- Интернет (для Firebase и загрузки моделей ML Kit при первом использовании)
- Разрешения: Камера, Хранилище, Локация

### Отладка

Если ИИ не работает:
- Проверьте логи в Android Studio (вкладка "Logcat")
- Ищите сообщения с тегом "WasteClassifier" или "AddNewMarker"
- Убедитесь, что изображение загружено корректно
- Проверьте интернет-соединение (ML Kit загружает модели при первом использовании)

